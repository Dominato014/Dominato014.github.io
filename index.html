<!DOCTYPE html>
<html>
  <head>
    <title>File Viewer</title>
    <script>
      // Function to fetch and display the file contents
      function loadFile() {
        // Get the file URL from the query parameter
        const urlParams = new URLSearchParams(window.location.search);
        const fileUrl = urlParams.get('file');

        if (fileUrl) {
          fetch(fileUrl)
            .then(response => response.text())
            .then(content => {
              // Set the fetched content as the HTML of the page
              document.documentElement.innerHTML = content;
            })
            .catch(error => {
              console.error('Error:', error);
              document.body.textContent = 'Error: Unable to load the file.';
            });
        } else {
          document.body.textContent = 'Error: No file specified.';
        }
      }

      // Call the loadFile function when the page finishes loading
      window.addEventListener('load', loadFile);
    </script>
  </head>
  <body>
    <h1>Loading...</h1>
  </body>
</html>
